<!--
  ~ Copyright (c) 2021 Tobias Briones. All rights reserved.
  -->

<!DOCTYPE html>
<html lang="es">

  <head>
    <title>Bug Tracker - Admin</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
          crossorigin="anonymous">
    <link rel="stylesheet" href="./css/default.css">
    <link rel="stylesheet" href="./css/admin.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#455A64">
    <meta charset="UTF-8">
  </head>

  <body>

    <header class="shadow p-3 mb-5 mb-5 rounded">
      <h1>Administrador</h1>
      <h2>Bug Tracker</h2>
      <nav class="navbar navbar-light">
        <form class="form-inline mx-auto">
          <button
            id="actionBugs"
            class="btn btn-outline-success bg-primary text-white"
            type="button">
            Bugs
          </button>
          <button
            id="actionDevelopers"
            class="btn btn-outline-success bg-primary text-white"
            type="button">
            Desarrolladores
          </button>
          <button
            id="actionProjects"
            class="btn btn-outline-success bg-primary text-white"
            type="button">
            Proyectos de Software
          </button>
        </form>
      </nav>
    </header>

    <div id="container" class="container p-sm-5">

      <!-- ----------------------------------------  BUGS PAGE  ---------------------------------------- -->

      <div id="bugsPage" class="row">
        <div id="statistics" class="col-xl-8">
          <p class="text-center font-weight-bold">
            <strong>Estadísticas de bugs</strong>
          </p>
          <canvas id="chart"></canvas>
        </div>
        <div class="col-xl-4 align-self-center">
          <form id="bugForm" class="row g-3 my-4 mx-4 my-xl-0">
            <p class="text-center font-weight-bold">
              <strong>Asignar bug a desarrollador</strong>
            </p>
            <div>
              <select id="bugsSelect" class="form-select form-select-lg mb-3" aria-label="Select bug">
                <option selected>Seleccionar bug</option>
              </select>
            </div>
            <div>
              <select id="devsSelect" class="form-select form-select-lg mb-3" aria-label="Select developer">
                <option selected>Seleccionar desarrollador</option>
              </select>
            </div>
            <div>
              <button class="btn btn-primary mb-3 w-100" type="submit">Asignar bug</button>
            </div>
          </form>
        </div>
      </div>

      <!-- ----------------------------------------  DEVELOPERS PAGE  ---------------------------------------- -->

      <div id="devsPage" class="row">

        <!-- ------------------------------  CREATE FORM  ------------------------------ -->

        <div id="developerCreateContainer">
          <p class="text-center font-weight-bold">
            <strong>Crear nuevo desarrollador</strong>
          </p>
          <form id="developerCreateForm">
            <div class="form-group">
              <label for="codeInput">Code</label>
              <input id="codeInput"
                     class="form-control"
                     type="number"
                     aria-describedby="codeHelp"
                     placeholder="Ingresar código">
              <small id="codeHelp" class="form-text text-muted">
                El código de desarrollador debe ser un entero
                positivo único
              </small>
            </div>
            <div class="form-group">
              <label for="nameInput">Nombre</label>
              <input id="nameInput" class="form-control" type="text" placeholder="Nombre">
            </div>
            <div class="form-group">
              <label for="languagesInput">Lenguajes de programación</label>
              <input id="languagesInput" class="form-control" type="text" placeholder="Lenguajes de programación">
              <small id="langHelp" class="form-text text-muted">
                Ingresa cada item separado por comas
              </small>
            </div>
            <div class="form-group">
              <label for="techInput">Tecnologías</label>
              <input id="techInput" class="form-control" type="text" placeholder="Tecnologías">
              <small id="techHelp" class="form-text text-muted">
                Ingresa cada item separado por comas
              </small>
            </div>
            <button class="btn btn-primary w-100" type="submit">Registrar</button>
          </form>
        </div>

        <!-- ------------------------------  UPDATE FORM  ------------------------------ -->

        <div id="developerUpdateContainer">
          <p class="text-center font-weight-bold">
            <strong>Actualizar desarrollador</strong>
          </p>
          <form id="developerUpdateForm">
            <div class="form-group">
              <label for="codeInput">Code</label>
              <input id="codeInput"
                     class="form-control"
                     readonly
                     type="number"
                     aria-describedby="codeHelp">
            </div>
            <div class="form-group">
              <label for="nameInput">Nombre</label>
              <input id="nameInput" class="form-control" type="text" placeholder="Nombre">
            </div>
            <div class="form-group">
              <label for="languagesInput">Lenguajes de programación</label>
              <input id="languagesInput" class="form-control" type="text" placeholder="Lenguajes de programación">
              <small id="langHelp" class="form-text text-muted">
                Ingresa cada item separado por comas
              </small>
            </div>
            <div class="form-group">
              <label for="techInput">Tecnologías</label>
              <input id="techInput" class="form-control" type="text" placeholder="Tecnologías">
              <small id="techHelp" class="form-text text-muted">
                Ingresa cada item separado por comas
              </small>
            </div>
            <div class="row">
              <button class="btn btn-primary col-8 mx-2" type="submit">Actualizar</button>
              <button class="btn btn-danger col mx-2" type="submit">Eliminar</button>
            </div>
          </form>
        </div>

        <!-- ----------------------------------------  LIST OF DEVELOPERS  ----------------------------------------
         -->

        <div id="developerListContainer">
          <p class="text-center font-weight-bold">
            <strong>Desarrolladores</strong>
          </p>

          <table class="table mt-4">
            <thead>
              <tr>
                <th scope="col">Código</th>
                <th scope="col">Nombre</th>
                <th scope="col">Lenguajes</th>
                <th scope="col">Tecnologías</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>

      </div>

    </div>

    <div id="modal" class="modal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Bug asignado</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p id="modalText"></p>
          </div>
          <div class="modal-footer">
            <button id="dismissModalBtn" class="btn btn-primary" type="button" data-dismiss="modal">Ok</button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
            crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
    <script src="./js/admin.mjs" type="module"></script>

  </body>

</html>
